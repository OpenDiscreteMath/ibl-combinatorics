%%%  This is a set of styles to include in the preamble of the generated latex code for the book Discrete Mathematics: an Open Introduction.


% \usepackage{bold-extra}
% \usepackage{marvosym} %for stop signs.
% \usepackage{textcomp}
% \usepackage{multicol}


% % FONT OPTIONS (pick one group to uncomment):

%newpx is my current favorite.  This should work on a TEXLive distribution, but on MiKTeX it initially gave me problems.  Running the update wizard to update MiKTeX then showed ``newpx'' as an available package (only since 8/11/15).  Perhaps just synchronizing in the package manager would do the same thing.  Even then, needed to run initexmf --mkmaps from the command line.
%You could always uncomment all of these to use the default computer modern font.
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{newpxtext}
\usepackage[vvarbb,cmintegrals,cmbraces,bigdelims]{newpxmath}
\usepackage[scr=rsfso]{mathalfa}% \mathscr is fancier than \mathcal
\linespread{1.04}         % adds more leading (space between lines)
% quantifiers look strange, so change those back to normal:
	\DeclareSymbolFont{mysymbols}{OMS}{cmsy}{b}{n} %note we make the figures bold to better match newpx.  Replace the ``b'' with an ``m'' to undo this.
	%\SetSymbolFont{mysymbols}  {bold}{OMS}{cmsy}{b}{n}
	%\DeclareSymbolFont{myoperators}   {OT1}{cmr} {m}{n}
	%\SetSymbolFont{myoperators}{bold}{OT1}{cmr} {bx}{n}
	\DeclareMathSymbol{\forall}{\mathord}{mysymbols}{"38}
	\DeclareMathSymbol{\exists}{\mathord}{mysymbols}{"39}
	%\DeclareMathSymbol{\pm}{\mathbin}{mysymbols}{"06}
	%\DeclareMathSymbol{+}{\mathbin}{myoperators}{"2B}
	%\DeclareMathSymbol{-}{\mathbin}{mysymbols}{"00}
	%\DeclareMathSymbol{=}{\mathrel}{myoperators}{"3D}
	%%% Suggested by Kent Morrison to fix \nobreakspace issues:
	\DeclareTextCommand{\nobreakspace}{T1}{\leavevmode\nobreak\ }



%\usepackage[T1]{fontenc}
%\usepackage{newtxtext,newtxmath}


%\usepackage[bitstream-charter]{mathdesign}
%\usepackage[T1]{fontenc}

%\usepackage[proportional,space,scaled=1.064]{erewhon}
%\usepackage[erewhon,vvarbb,bigdelims]{newtxmath}
%\usepackage[T1]{fontenc}
%\renewcommand*\oldstylenums[1]{\textosf{#1}}





% % % % % % Other packages % % % % % % % %

% \usepackage{docmute}
% \usepackage{pdfpages}
%
% \usepackage{svg}
%
\usepackage[framemethod=tikz]{mdframed}



% % % % % % % % % % % % % %  END OF PACKAGES  % % % % % % % % % % % % % % % % % % %

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%  Nicely styled environments: %%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{tcolorbox}
\tcbuselibrary{skins}
\tcbuselibrary{breakable}

\newcommand{\sslash}{\mathbin{/\mkern-6mu/}}

% \tcbuselibrary{theorems}
%
% \newtcbtheorem{myproblem}{Problem}{colback=green!5, colframe=black}{th}



%Create indented ``problem'' environment:
% \newmdtheoremenv[%
% leftmargin=1.5ex, %left/right margins for oneside
% rightmargin=1.5ex,
% roundcorner=0pt,
% topline=false,
% leftline=false,
% ]{mdproblem}[project]{Problem}
\tcbset{probstyle/.style={%
	breakable,
	enhanced,
	colback=white,
	colframe=black!60,
	toprule=0mm,
	leftrule=0mm,
	bottomrule=.5pt,
	rightrule=.5pt,
	% bottom=0pt,
	top=2pt,
	extras unbroken and last={drop lifted shadow},
	before skip=1em,
	after skip=.5em,
	sharp corners=all,
	% after upper*={\quad $\sslash$},
	% overlay last={%
	% 	% \node at ([yshift=1em,xshift=-1em]frame.south east) {$\sslash$};
	% 	\draw[#1, blue!20] ([xshift=-10pt, yshift=-5pt]frame.south east) -- ++(0,2.5em);
	% 	\draw[#1, blue!20] ([xshift=-5pt]frame.south east) -- ++(-3em,0);
	% 	},
	% overlay unbroken={%
	% 	% \node at ([yshift=1em,xshift=-1em]frame.south east) {$\sslash$};
	% 	\draw[#1, blue!20] ([xshift=-10pt, yshift=-5pt]frame.south east) -- ++(0,2.5em);
	% 	\draw[#1, blue!20] ([xshift=-5pt]frame.south east) -- ++(-3em,0);
	% 	}
	}
}


\newtheorem{myproblem}[project]{Problem}

%Redefine ``example'' to call the new mdexample, and put a paragraph break after it.
\renewenvironment{activity}{%
\begin{tcolorbox}[probstyle]
\begin{myproblem}
}{%
\end{myproblem}
\end{tcolorbox}
\par\medskip
}


%Fix widows and orphans (single lines at top/bottom of page):
\clubpenalty=10000
\widowpenalty=10000
\raggedbottom



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%  Headers and footers %%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{fancyhdr}
\pagestyle{fancy}
\renewcommand{\chaptermark}[1]{\markboth{\thechapter.\ #1}{}} %Removes word "chapter" from the \leftmark.

\fancyhead{} % clear header fields
\fancyhead[LE]{{\footnotesize \textsl{\thepage}}~~ \textsc{\scriptsize \nouppercase{\leftmark}}}
\fancyhead[RO]{\textsc{\scriptsize \nouppercase{\rightmark}} ~~ {\footnotesize \textsl{\thepage}}  }
\fancyfoot{}





% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% %%%%%%%    Chapter headings  %%%%%%%%%%%%%
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% \usepackage[bf,sc,center,outermarks]{titlesec}
%
%
% %%%%% FIX FOR BUG IN TITLESEC %%%%%%%%%%%
% \usepackage{etoolbox}
%
% \makeatletter
% \patchcmd{\ttlh@hang}{\parindent\z@}{\parindent\z@\leavevmode}{}{}
% \patchcmd{\ttlh@hang}{\noindent}{}{}{}
% \makeatother
% %%%%% END FIX %%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%
% \titleformat{\chapter}[display]
% 	{\Large\filcenter}
% 	{\rule[4pt]{.3\textwidth}{2pt} \hspace{2ex} \large\textsc{\chaptertitlename} \thechapter \hspace{3ex} \rule[4pt]{0.3\textwidth}{2pt} }
% 	{1pc}
% 	{\titlerule\vspace{1ex}\huge\textsc}
% 	[\vspace{.75ex}\titlerule]
% \titlespacing*{\chapter}{0pt}{-2em}{2em}
%
% \titleformat{\paragraph}[block]
%   {\normalfont\bfseries\filcenter}
%   {\theparagraph}
%   {}
%   {\textsc}
% %%%%%%%%%  End chapter/sectio headings %%%%%%%%%%%%%%%%%

%%% End of File.
